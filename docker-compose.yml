services:
  daily-cli:
    build:
      context: .
      dockerfile: Dockerfile
    image: daily-cli:latest
    container_name: daily-cli

    # 인터랙티브 모드 (CLI 앱이므로 필요)
    stdin_open: true
    tty: true

    # 볼륨 마운트 (데이터 영속성)
    volumes:
      - ./data:/app/data
      # 개발 시 소스 코드 동기화 (선택적)
      # - ./diary:/app/diary

    # 환경 변수 (필요 시)
    environment:
      - TZ=Asia/Seoul

    # 네트워크 (향후 DB 연동 시)
    # networks:
    #   - daily-network

  # 개발용 서비스 (소스 코드 실시간 동기화)
  dev:
    build:
      context: .
      dockerfile: Dockerfile.dev
    image: daily-cli:dev
    container_name: daily-cli-dev
    stdin_open: true
    tty: true
    volumes:
      - .:/app
      - /app/.venv  # 가상환경은 제외
    environment:
      - TZ=Asia/Seoul
    command: bash

# networks:
#   daily-network:
#     driver: bridge
